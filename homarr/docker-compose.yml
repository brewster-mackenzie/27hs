networks:
  green:
    external: true
    name: ${STACK_NAME}-green

volumes:
  homarr-appdata:

services:
  homarr:
    container_name: ${STACK_NAME}-homarr 
    hostname: homarr
    image: ghcr.io/homarr-labs/homarr:latest
    restart: unless-stopped
    volumes:
      - homarr-appdata:/appdata
    environment:
      - SECRET_ENCRYPTION_KEY=${HOMARR_SECRET_ENCRYPTION_KEY}
      - AUTH_PROVIDERS=credentials,oidc
      - AUTH_OIDC_ISSUER=https://auth.27hs.co.uk
      - AUTH_OIDC_CLIENT_ID=${HOMARR_AUTH_OIDC_CLIENT_ID}
      - AUTH_OIDC_CLIENT_SECRET=${HOMARR_AUTH_OIDC_CLIENT_SECRET}
    ports:
      - ${PORTS_HOMARR}:7575
